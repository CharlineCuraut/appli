{"ast":null,"code":"var _jsxFileName = \"/Users/charlinecuraut/Documents/VSCode/webL3/appli/client/src/utilisateur/UtilisateurMessage.js\";\nimport React, { Component } from 'react';\nimport Message from '../messages/Message';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UtilisateurMessage extends Component {\n  constructor(props) {\n    super(props); // this.delMess = this.delMess.bind(this)\n\n    this.state = {\n      liste: [] // liste : [\n      //     {isUtilisateur:true, \n      //     delMess:this.delMess,\n      //     idMessage:5,\n      //     pseudo:\"filanteetoile\", \n      //     date:\"12/04/2021\", \n      //     message:\"On ne voit pas le bout du confinement mais j'ai decouvert une nouvelle recette de cookie ! Je l'ai mise en ligne sur Marmiton, meme pseudo. Enjoy les cookies dans le canap', enrouler dans un plaid devant netflix avec un bon chocolat chaud. Bonne serie a tous !\" },\n      //     {isUtilisateur:true,\n      //     delMess:this.delMess,\n      //     idMessage:6,\n      //     pseudo:\"filanteetoile\", \n      //     date:\"23/10/2020\",\n      //     message:\"Aller les amis, on se reconfine encore une fois, c'est pour le bien des familles. Pensez à ceux qui souffrent et surtout respectez bien les gestes barrières !\" },\n      //     {isUtilisateur:true, \n      //     delMess:this.delMess,\n      //     idMessage:7,\n      //     pseudo:\"filanteetoile\", \n      //     date:\"09/07/2020\",\n      //     message:\"Ce sont les vacances !!! Le confinement est finiiii, bravo a tous ! On va pouvoir profiter du beau temps et voyager !! Trop hate de partir aux Caraibes ;P\" },\n      //     {isUtilisateur:true,\n      //     delMess:this.delMess,\n      //     idMessage:8,\n      //     pseudo:\"filanteetoile\", \n      //     date:\"17/03/2020\",\n      //     message:\"Omg ! Il parait qu'on va subir un confinement pour quelques semaines. Faites bien attention a vous tous et a vos proches ! Courage ! ce n'est que l'histoire d'un mois ou deux ^^\" }\n      // ]\n\n    };\n  } // delMess(indexMess) {\n  //     console.log(\"coucou de delMess(param) utilisateur\");\n  //     console.log(indexMess);\n  //     for (var i=0; i<this.state.liste.length; i++) {\n  //         if (this.state.liste[i].idMessage === indexMess) {\n  //             this.state.liste.splice(i,1);\n  //         }\n  //     }\n  //     this.setState({\n  //         liste: this.state.liste\n  //     })\n  // }\n\n\n  async recupereMessages(nbAffichage) {\n    console.log(\"nbAffichage = \" + nbAffichage);\n    await axios.get(`http://localhost:4000/apimessages/messages/getNMessages/${nbAffichage}`).then(res => {\n      this.setState({\n        profil: this.state.profil,\n        listeMess: res.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Liste de Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"liste_messages\",\n        children: this.state.liste.map((mess, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Message, {\n            changePage: this.props.changePage,\n            isUtilisateur: mess.loginUser !== this.state.profil ? false : true,\n            delMess: this.delMess,\n            idMessage: mess._id,\n            pseudo: mess.loginUser,\n            date: mess.date,\n            message: mess.message,\n            isUtilisateur: mess.isUtilisateur // delMess={mess.delMess}\n            ,\n            idMessage: mess.idMessage,\n            pseudo: mess.pseudo,\n            date: mess.date,\n            message: mess.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UtilisateurMessage;","map":{"version":3,"sources":["/Users/charlinecuraut/Documents/VSCode/webL3/appli/client/src/utilisateur/UtilisateurMessage.js"],"names":["React","Component","Message","UtilisateurMessage","constructor","props","state","liste","recupereMessages","nbAffichage","console","log","axios","get","then","res","setState","profil","listeMess","data","render","map","mess","index","changePage","loginUser","delMess","_id","date","message","isUtilisateur","idMessage","pseudo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,qBAApB;;;AAEA,MAAMC,kBAAN,SAAiCF,SAAjC,CAA2C;AACvCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN,EADe,CAEf;;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG,EADC,CAET;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AA9BS,KAAb;AAgCH,GApCsC,CAsCvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEsB,QAAhBC,gBAAgB,CAACC,WAAD,EAAc;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBF,WAA/B;AACA,UAAMG,KAAK,CAACC,GAAN,CAAW,2DAA0DJ,WAAY,EAAjF,EACDK,IADC,CACKC,GAAD,IAAS;AACX,WAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAAG,KAAKX,KAAL,CAAWW,MADV;AAEVC,QAAAA,SAAS,EAAGH,GAAG,CAACI;AAFN,OAAd;AAIH,KANC,CAAN;AAQH;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA,kBACK,KAAKd,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,kBAClB;AAAA,iCACI,QAAC,OAAD;AACI,YAAA,UAAU,EAAE,KAAKlB,KAAL,CAAWmB,UAD3B;AAEI,YAAA,aAAa,EAAGF,IAAI,CAACG,SAAL,KAAiB,KAAKnB,KAAL,CAAWW,MAA7B,GAAsC,KAAtC,GAA8C,IAFjE;AAGI,YAAA,OAAO,EAAE,KAAKS,OAHlB;AAII,YAAA,SAAS,EAAEJ,IAAI,CAACK,GAJpB;AAKI,YAAA,MAAM,EAAEL,IAAI,CAACG,SALjB;AAMI,YAAA,IAAI,EAAEH,IAAI,CAACM,IANf;AAOI,YAAA,OAAO,EAAEN,IAAI,CAACO,OAPlB;AASI,YAAA,aAAa,EAAEP,IAAI,CAACQ,aATxB,CAUI;AAVJ;AAWI,YAAA,SAAS,EAAER,IAAI,CAACS,SAXpB;AAYI,YAAA,MAAM,EAAET,IAAI,CAACU,MAZjB;AAaI,YAAA,IAAI,EAAEV,IAAI,CAACM,IAbf;AAcI,YAAA,OAAO,EAAEN,IAAI,CAACO;AAdlB;AAAA;AAAA;AAAA;AAAA;AADJ,WAASN,KAAT;AAAA;AAAA;AAAA;AAAA,gBADH;AADL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2BH;;AA3FsC;;AA8F3C,eAAepB,kBAAf","sourcesContent":["import React, { Component } from 'react'\nimport Message from '../messages/Message'\n\nclass UtilisateurMessage extends Component {\n    constructor(props) {\n        super(props);\n        // this.delMess = this.delMess.bind(this)\n        this.state = {\n            liste : []\n            // liste : [\n            //     {isUtilisateur:true, \n            //     delMess:this.delMess,\n            //     idMessage:5,\n            //     pseudo:\"filanteetoile\", \n            //     date:\"12/04/2021\", \n            //     message:\"On ne voit pas le bout du confinement mais j'ai decouvert une nouvelle recette de cookie ! Je l'ai mise en ligne sur Marmiton, meme pseudo. Enjoy les cookies dans le canap', enrouler dans un plaid devant netflix avec un bon chocolat chaud. Bonne serie a tous !\" },\n\n            //     {isUtilisateur:true,\n            //     delMess:this.delMess,\n            //     idMessage:6,\n            //     pseudo:\"filanteetoile\", \n            //     date:\"23/10/2020\",\n            //     message:\"Aller les amis, on se reconfine encore une fois, c'est pour le bien des familles. Pensez à ceux qui souffrent et surtout respectez bien les gestes barrières !\" },\n\n            //     {isUtilisateur:true, \n            //     delMess:this.delMess,\n            //     idMessage:7,\n            //     pseudo:\"filanteetoile\", \n            //     date:\"09/07/2020\",\n            //     message:\"Ce sont les vacances !!! Le confinement est finiiii, bravo a tous ! On va pouvoir profiter du beau temps et voyager !! Trop hate de partir aux Caraibes ;P\" },\n                \n            //     {isUtilisateur:true,\n            //     delMess:this.delMess,\n            //     idMessage:8,\n            //     pseudo:\"filanteetoile\", \n            //     date:\"17/03/2020\",\n            //     message:\"Omg ! Il parait qu'on va subir un confinement pour quelques semaines. Faites bien attention a vous tous et a vos proches ! Courage ! ce n'est que l'histoire d'un mois ou deux ^^\" }\n            // ]\n        }\n    }\n\n    // delMess(indexMess) {\n    //     console.log(\"coucou de delMess(param) utilisateur\");\n    //     console.log(indexMess);\n    //     for (var i=0; i<this.state.liste.length; i++) {\n    //         if (this.state.liste[i].idMessage === indexMess) {\n    //             this.state.liste.splice(i,1);\n    //         }\n    //     }\n    //     this.setState({\n    //         liste: this.state.liste\n    //     })\n    // }\n\n    async recupereMessages(nbAffichage) {\n        console.log(\"nbAffichage = \" + nbAffichage);\n        await axios.get(`http://localhost:4000/apimessages/messages/getNMessages/${nbAffichage}`)\n            .then((res) => {\n                this.setState({\n                    profil : this.state.profil,\n                    listeMess : res.data\n                })\n            })\n\n    }\n\n    render() {\n        return (\n            <div>\n                <h3>Liste de Messages</h3>\n                <ul className=\"liste_messages\">\n                    {this.state.liste.map((mess, index) => (\n                        <li key={index}>\n                            <Message \n                                changePage={this.props.changePage} \n                                isUtilisateur={(mess.loginUser!==this.state.profil)? false : true} \n                                delMess={this.delMess}\n                                idMessage={mess._id}\n                                pseudo={mess.loginUser}\n                                date={mess.date}\n                                message={mess.message}\n                                \n                                isUtilisateur={mess.isUtilisateur}\n                                // delMess={mess.delMess}\n                                idMessage={mess.idMessage}\n                                pseudo={mess.pseudo}\n                                date={mess.date}\n                                message={mess.message}\n                            />\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default UtilisateurMessage;"]},"metadata":{},"sourceType":"module"}